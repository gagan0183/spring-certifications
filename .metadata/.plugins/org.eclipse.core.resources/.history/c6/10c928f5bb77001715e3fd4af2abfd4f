package com.constructorinjections;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class App {
	public static void main(String[] args) {
		ApplicationContext applicationContexts = new ClassPathXmlApplicationContext("classpath:sample-config1.xml");
		for (String beanName : applicationContexts.getBeanDefinitionNames()) {
			System.out.println(beanName + " " + applicationContexts.getBean(beanName).getClass().getSimpleName());
		}
		
		ComplexBeanImpl complexBean0 = (ComplexBeanImpl) ctx.getBean("complexBean0");
        assertNotNull(complexBean0.getSimpleBean());

        ComplexBeanImpl complexBean1 = (ComplexBeanImpl) ctx.getBean("complexBean1");
        assertNotNull(complexBean1.getSimpleBean());
        assertTrue(complexBean1.isComplex());

        ComplexBean2Impl complexBean2 = (ComplexBean2Impl) ctx.getBean("complexBean2");
        assertNotNull(complexBean2.getSimpleBean1());
        assertNotNull(complexBean2.getSimpleBean2());
	}
}
